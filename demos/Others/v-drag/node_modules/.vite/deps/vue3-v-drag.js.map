{
  "version": 3,
  "sources": ["../../.pnpm/vue3-v-drag@1.0.1/node_modules/vue3-v-drag/v-drag.ts"],
  "sourcesContent": ["import type { App } from \"vue\";\nimport type { Directive, DirectiveBinding } from \"vue\";\n\n\nconst timeStamp = new Date().getTime();\nconst boxClassName = `box-${timeStamp}`;\nconst pointerClassName = `pointer-${timeStamp}`;\n\nconst addElPositionIndicator = (moveElement: HTMLDivElement) => {\n  const pointerXAxisLabel = document.createElement(\"span\");\n  const pointerYAxisLabel = document.createElement(\"span\");\n  pointerXAxisLabel.classList.add(`${boxClassName}-labelx`);\n  pointerYAxisLabel.classList.add(`${boxClassName}-labely`);\n  moveElement.appendChild(pointerXAxisLabel);\n  moveElement.appendChild(pointerYAxisLabel);\n};\nconst updateElPositionIndicator = (x: string, y: string) => {\n  const pointerxlabel = document.querySelector(`.${boxClassName}-labelx`);\n  const pointerylabel = document.querySelector(`.${boxClassName}-labely`);\n  pointerxlabel!.textContent = x;\n  pointerylabel!.textContent = y;\n};\nconst addPointerIndicator = () => {\n  const pointer: HTMLDivElement = document.querySelector(`.${pointerClassName}`) || document.createElement(\"div\");\n  pointer.classList.add(boxClassName, pointerClassName);\n  // axis label\n  const pointerXAxisLabel = document.createElement(\"span\");\n  const pointerYAxisLabel = document.createElement(\"span\");\n  pointerXAxisLabel.classList.add(`${pointerClassName}-labelx`);\n  pointerYAxisLabel.classList.add(`${pointerClassName}-labely`);\n  pointer.appendChild(pointerXAxisLabel);\n  pointer.appendChild(pointerYAxisLabel);\n  document.body.appendChild(pointer);\n};\nconst updatePointerIndicator = (e: MouseEvent) => {\n  const pointer: HTMLDivElement = document.querySelector(`.${pointerClassName}`) || document.createElement(\"div\");\n  const pointerxlabel = document.querySelector(`.${pointerClassName}-labelx`);\n  const pointerylabel = document.querySelector(`.${pointerClassName}-labely`);\n  pointerxlabel!.textContent = e.clientX + \"px\";\n  pointerylabel!.textContent = e.clientY + \"px\";\n  pointer.style.left = e.clientX + \"px\";\n  pointer.style.top = e.clientY + \"px\";\n};\nconst removePointerIndicator = () => {\n  const pointer: HTMLDivElement = document.querySelector(`.${pointerClassName}`);\n  pointer && document.body.removeChild(pointer);\n};\nconst attachRelatedClass = (indicator: boolean, el: HTMLElement) => {\n  indicator && el.classList.add(boxClassName);\n  const style = document.createElement(\"style\");\n  style.textContent = `\n.${boxClassName} {\n  position: absolute;\n}\n.${boxClassName}::before {\n  content: \"\";\n  width: 1px;\n  border-top: 1px dashed;\n  left: -100vw;\n  width: 200vw;\n  top: -2px;\n  position: absolute;\n}\n.${boxClassName}::after {\n  content: \"\";\n  width: 1px;\n  border-right: 1px dashed;\n  left: -2px;\n  height: 200vh;\n  top: -100vh;\n  position: absolute;\n}\n\n.${pointerClassName}::before {\n  border-top: 1px dashed red;\n}\n.${pointerClassName}::after {\n  border-right: 1px dashed red;\n}\n\n.${pointerClassName}-labelx,.${pointerClassName}-labely{\n  color:red;\n  position: absolute;\n}\n.${pointerClassName}-labelx {\n  left:100px\n}\n.${pointerClassName}-labely {\n  bottom:100px\n}\n.${boxClassName}-labelx,.${boxClassName}-labely{\n  color:blue;\n  position: absolute;\n}\n.${boxClassName}-labelx{\n  left:-100px\n  \n}\n.${boxClassName}-labely{\n  top:-100px\n\n}\n`;\n  document.body.appendChild(style);\n};\n\n\n\nconst _vDrag: Directive<any, void> = (el: HTMLElement, binding: DirectiveBinding) => {\n  const {\n    modifiers: { indicator, keep },\n    value,\n  } = binding;\n  const userValue = value;\n  let moveElement: HTMLDivElement = el as HTMLDivElement;\n  // let moveElement: HTMLDivElement = el.firstElementChild as HTMLDivElement;\n  attachRelatedClass(indicator, el);\n  const mouseDown = (e: MouseEvent) => {\n    // 用户传入的callback\n    userValue?.mousedown();\n    indicator && addPointerIndicator();\n    indicator && addElPositionIndicator(moveElement);\n    let x = e.clientX - el.offsetLeft;\n    let y = e.clientY - el.offsetTop;\n    const move = (e: MouseEvent) => {\n      indicator && updatePointerIndicator(e);\n      el.style.left = e.clientX - x + \"px\";\n      el.style.top = e.clientY - y + \"px\";\n      indicator && updateElPositionIndicator(el.style.left, el.style.top);\n    };\n    document.addEventListener(\"mousemove\", move);\n    const mouseup = () => {\n      // 用户传入的callback\n      userValue?.mouseup();\n      !keep && removePointerIndicator();\n\n      document.removeEventListener(\"mousemove\", move);\n      document.removeEventListener(\"mouseup\", mouseup);\n    };\n    document.addEventListener(\"mouseup\", mouseup);\n  };\n  moveElement.addEventListener(\"mousedown\", mouseDown);\n};\n\n\nconst vDragIntaller = {\n  install(app: App) {\n    console.log('[app]: ', app)\n    app.directive(\"drag\", _vDrag)\n  }\n}\n\nexport default vDragIntaller\nexport const vDrag = vDragIntaller"],
  "mappings": "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",
  "names": ["e"]
}
